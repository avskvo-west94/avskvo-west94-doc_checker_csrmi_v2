# Document Checker CSRM v2

Программа для проверки документов на соответствие стандартам CSRM (Corporate Social Responsibility Management).

## Возможности

- ✅ Проверка различных форматов документов (PDF, DOCX, TXT, MD)
- ✅ Валидация размера файлов
- ✅ Проверка имен файлов на соответствие стандартам
- ✅ Поиск обязательных и запрещенных ключевых слов
- ✅ Генерация подробных отчетов в формате JSON
- ✅ Поддержка конфигурационных файлов
- ✅ Рекурсивная проверка директорий

## Требования

- Python 3.8 или выше
- Стандартная библиотека Python (все зависимости включены)

## Установка

1. Клонируйте репозиторий:
```bash
git clone https://github.com/avskvo-west94/avskvo-west94-doc_checker_csrmi_v2.git
cd avskvo-west94-doc_checker_csrmi_v2
```

2. Установите зависимости (если требуется расширенная функциональность):
```bash
pip install -r requirements.txt
```

## Использование

### Базовое использование

Проверка одного файла:
```bash
python main.py document.pdf
```

Проверка директории:
```bash
python main.py /path/to/documents/
```

### Параметры командной строки

- `path` - Путь к файлу или директории с документами (обязательный)
- `--config` - Путь к файлу конфигурации (по умолчанию: `config.json`)
- `--output` - Путь к файлу отчета (по умолчанию: `report.json`)
- `--verbose` или `-v` - Подробный вывод процесса проверки

### Примеры

Проверка с подробным выводом:
```bash
python main.py documents/ --verbose
```

Проверка с пользовательской конфигурацией:
```bash
python main.py documents/ --config my_config.json --output my_report.json
```

## Конфигурация

Создайте файл `config.json` для настройки параметров проверки:

```json
{
  "min_file_size": 100,
  "max_file_size": 104857600,
  "max_filename_length": 255,
  "forbidden_filename_chars": ["<", ">", ":", "\"", "|", "?", "*"],
  "required_keywords": ["CSRM", "соответствие"],
  "forbidden_keywords": ["конфиденциально"],
  "min_content_length": 100,
  "check_pdf_structure": false
}
```

### Параметры конфигурации

- `min_file_size` - Минимальный размер файла в байтах
- `max_file_size` - Максимальный размер файла в байтах
- `max_filename_length` - Максимальная длина имени файла
- `forbidden_filename_chars` - Запрещенные символы в имени файла
- `required_keywords` - Обязательные ключевые слова в документе
- `forbidden_keywords` - Запрещенные ключевые слова в документе
- `min_content_length` - Минимальная длина содержимого (для текстовых файлов)
- `check_pdf_structure` - Расширенная проверка структуры PDF (требует дополнительных библиотек)

## Формат отчета

Программа генерирует отчет в формате JSON:

```json
{
  "total_files": 10,
  "valid_files": 8,
  "invalid_files": 2,
  "results": [
    {
      "file": "document1.pdf",
      "valid": true,
      "status": "Валиден",
      "errors": [],
      "warnings": []
    },
    {
      "file": "document2.docx",
      "valid": false,
      "status": "Невалиден",
      "errors": ["Документ не содержит обязательное ключевое слово: CSRM"],
      "warnings": []
    }
  ]
}
```

## Структура проекта

```
.
├── main.py              # Главный файл программы
├── doc_checker.py       # Основной модуль проверки документов
├── validators.py        # Валидаторы для различных типов файлов
├── config.json          # Конфигурационный файл по умолчанию
├── requirements.txt     # Зависимости проекта
└── README.md            # Документация
```

## Коды выхода

- `0` - Все файлы прошли проверку успешно
- `1` - Обнаружены невалидные файлы или ошибки

## Разработка

### Добавление новых валидаторов

Для добавления поддержки новых форматов файлов:

1. Создайте новый класс валидатора в `validators.py`, наследуя от `BaseValidator`
2. Реализуйте метод `_validate_content()`
3. Добавьте валидатор в словарь `validators` в классе `DocumentChecker`

### Расширение функциональности

Программа легко расширяется:
- Добавление проверок метаданных
- Интеграция с внешними API проверки
- Поддержка дополнительных форматов файлов
- Визуализация отчетов

## Лицензия

Этот проект создан для использования в рамках системы управления корпоративной социальной ответственностью.

## Автор

avskvo-west94

## Версия

2.0
